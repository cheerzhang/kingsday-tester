Kingsday Tester 桌游规则（玩家版）

**概览**
本游戏是回合制的节庆主题互动桌游。玩家扮演不同角色，通过事件卡和个人行动达成各自胜利条件。Finn 与 游客为必选角色，其它角色可自由加入。

**基础资源**
- 体力 `stamina`
- 好奇心 `curiosity`
- 金钱 `money`
- 普通物品 `product`
- 橙色物品（未佩戴）`orange_product`
- 橙色物品（已佩戴）`orange_wear_product`
- 进度 `progress`（用于结算胜负与平局判定）

**游戏准备**
1. 选择本局角色（无论如何都会加入 Finn 与 游客）。
2. 每个角色获得初始资源（见 `README_ROLES.md`）。
3. 事件牌堆由 `data/events/` 下全部事件卡组成，抽过的卡本局不会再出现。

**回合流程**
1. 当前玩家选择是否抽事件卡。
2. 若抽卡：先支付抽卡费用，再结算事件卡（全局效果 → 当前玩家专属效果）。
3. 若不抽卡：可使用主动技能；或选择跳过。
4. 回合结束时检查胜利条件；若已有人达成则游戏结束。

**抽卡费用（核心规则）**
- 每个角色有自己的抽卡费用，分为 `THEN` 或 `OR` 两种逻辑。
- `THEN`：按配置顺序支付第一种能支付的费用。
- `OR`：在所有可支付的费用中任选其一。
- 资源不会被扣到 0 以下。

**事件卡结算顺序**
1. 触发全局效果（可能需要选择目标或围观者）。
2. 若该事件对当前玩家有专属效果，则立即触发（可能进入交互流程）。
3. 若事件牌堆耗尽，则无法继续抽卡，但游戏仍可继续进行直到有人获胜。

**拍照规则（游客相关核心互动）**
- 目标必须满足：好奇心 ≥ 2 且拥有橙色物品（已佩戴或未佩戴）。
- Finn 只有在“已佩戴橙色”时才可被拍照。
- 拍照成本：拍照者金钱 -1、体力 -1；被拍者金钱 +1。
- 目标可以拒绝（某些事件会强制同意或有拒绝惩罚）。
- 志愿者可在资金/体力不足时协助完成一次拍照（不消耗拍照者资源）。

**交易规则（摊主相关核心互动）**
- 交易门槛：卖家好奇心 ≥ 2、买家好奇心 ≥ 2、卖家体力 ≥ 1、买家金钱 > 商品价格。
- 交易价格基础：普通物品 1、橙色物品 2、食物 1，可被事件或状态改变。
- 成功交易后：卖家体力 -1、买家支付金钱并获得物品、卖家获得金钱；摊主进度 +1。
- 志愿者可在门槛不足时协助完成一次交易（无金钱与体力消耗）。

**供餐规则（食物摊主主动技能）**
- 食物摊主依次向所有其他玩家发起“是否购买”。
- 接受门槛：好奇心 ≥ 2（可能有额外加成要求）、金钱 ≥ 价格（Finn 可被事件设为免费）。
- 接受后：购买者体力 +1（可能有额外加成），金钱 - 价格，摊主获得金钱。
- 供餐成功需达到最低购买人数（默认 2，可被事件修改），成功则摊主进度 +1。
- 志愿者可在门槛不足时协助一次供餐（只给体力，不扣钱）。

**表演规则（表演者主动技能）**
1. 表演者需体力 ≥ 2 才能开始（否则可请求志愿者帮助）。
2. 依次询问其他玩家是否围观。
3. 围观者选择收益：体力 +1 且自己好奇心 -1，或 金钱 -1 且表演者金钱 +1 且自己好奇心 +1。
4. 成功围观人数达到要求（默认 2）则表演成功；失败则为失败。
5. 成功时表演者体力 -2，失败时体力 -1；成功可获得进度与计数。

**志愿者帮助**
- 当拍照、交易、供餐或表演遭遇门槛不足时，可请求志愿者帮助。
- 志愿者选择“帮助”会绕过门槛并记一次“帮助类型”。
- 志愿者胜利条件与“帮助类型种类数”相关（见 `README_ROLES.md`）。

**胜利与结算**
- 每个角色有独立胜利条件（见 `README_ROLES.md`）。
- 若事件触发“立即结束”，或有人在回合结束时达成胜利，游戏结束。
- 若没有明确赢家，则比较 `progress`，进度最高者获胜，平局则共同获胜。
