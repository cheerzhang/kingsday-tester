# Balance Lab 游戏说明书

单页原生 `HTML + CSS + JS` 的多人回合制卡牌平衡测试工具。

## 1. 快速开始

- 直接用浏览器打开 `index.html`。
- 无需 Node、无需后端、无需安装依赖。
- 玩家用完整规则书见：`PLAYER_RULEBOOK.md`。

## 2. 游戏目标

- 玩家通过角色技能、事件卡和互动行为推进各自胜利条件。
- 任意角色达成胜利条件时，游戏立刻结束并记录胜者。
- 如果事件卡抽完仍无人达成胜利条件，游戏以无胜者结束。

## 3. 基础规则

- 支持 `2-6` 角色开局。
- 回合顺序按座位顺时针推进。
- 默认每回合：`抽卡` 或 `发动技能` 二选一。
- 事件卡为唯一抽取：每张卡一局只会被抽到一次。

## 4. 资源与图标

- `🔍` 好奇心（curiosity）
- `💰` 金钱（money）
- `❤️` 体力（stamina）
- `📦` 普通物品（product）
- `👑` 橙色物品（orange item）
- `🤴🏻` 已穿戴橙色（worn orange）
- `⭐️` 胜利进度（progress）

## 5. 角色与胜利条件

- Finn：穿戴 `3` 件橙色（`🤴🏻 >= 3`）
- 游客：有效拍照 `3` 次（目标必须穿戴橙色）
- 摊主：完成 `3` 次有效交易
- 食物摊主：成功供餐 `5` 次（可供给自己，但自己最多记 `1` 次）
- 表演者：成功表演 `3` 次
- 志愿者：成功帮助他人 `3` 次

详细角色手册见 `role.readme`。

## 6. 关键机制

### 6.1 Finn 限制

- Finn 默认不能参与购买行为（交易/供餐）。
- 只有被志愿者帮助后，才会获得可消耗的“代买次数”。
- Finn 不能拒绝被拍照，但同一游客对 Finn 最多计一次拍照目标。

### 6.2 拍照

- 拍照目标会获得 `📦 +1`（照片当普通物品）。
- 只有目标穿戴橙色（`🤴🏻 > 0`）才算“有效拍照”并计游客胜利进度。

### 6.3 供餐（食物摊主）

- 发起供餐要求：发起时 `❤️ >= 2`。
- 供餐对象包含自己。
- 每位购买者要求 `🔍 >= 2`；非自己购买需支付 `💰1`。
- 发起结算：
- 本轮无人购买：发起者 `❤️ -1`
- 本轮有人购买：发起者 `❤️ -2`

### 6.4 表演（表演者）

- 发起表演要求：表演者已穿戴橙色（`🤴🏻 >= 1`）。
- 围观者支付二选一：`💰 -1` 或 `🔍 -2`。
- 每个围观者都会给表演者 `💰 +1`。
- 围观时可切换橙色状态：`👑 <-> 🤴🏻`。
- Finn 在围观中执行“穿戴”时，改为支付 `❤️ -2` 或 `🔍 -4`。
- 普通成功门槛为 `2` 名围观者（部分事件会改为 `1`）。

## 7. 事件卡

- 当前实现事件卡：`1-20`。
- 抽到事件后先结算全局效果，再结算抽卡者角色效果。
- 卡面颜色分组：
- `1-4` 橙色主题
- `5-8` 紫色主题
- `9-12` 蓝色主题
- `13-16` 红色主题
- `17-20` 绿色主题
- 单卡详细效果见 `role.readme`。

## 8. 自动模式

界面提供三种模式：

- 手动模式
- 全自动
- 自动一步

当前代码默认启用了测试档（用于强对抗验证）：

- `AUTO_STRONG_ADVERSARIAL = true`
- `AUTO_DRAW_ONLY = true`

位置：`index.html` 中的策略常量区。  
含义：

- 强对抗：可拒绝的同意分支默认拒绝（不主动帮助对手推进胜利）。
- 只抽卡：在回合选择中不发动技能，只做抽卡/跳过。

## 9. 主要文件

- `index.html`：完整游戏实现（UI、规则、角色、事件、自动策略）。
- `role.readme`：角色与卡牌详细手册（当前构建版）。
- `README.md`：本说明书。
